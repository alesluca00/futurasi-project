
<!DOCTYPE html>
<html>

<head>
    <title>Page Title1</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>



<body>


    <h1 class="prova">CHANGE COLOR</h1>

    <div class="row">
        <div id="colors" claggggggggggggggggggss="tabella_colori">
            
            
        </div>
        <div id="persone" class="vettore_persone">


        </div>
    </div>

</body>

<script>
    /******************************* VETTORE COLORE *******************************************/
 var 
    var colors = [{

            /***************************Prima colonna********************/
            value: "Green",
            style: {
                class: "elem_tabella_colori"
            }
        }, {
            value: "Red",
            style: {
                class: "elem_tabella_colori"
            }
        }, {
            value: "Yellow",
            style: {
                class: "elem_tabella_colori"
            }
        }, {
            value: "Orange",
            style: {
                class: "elem_tabella_colori"
            }
        }, {
            value: "Brown",
            style: {
                class: "elem_tabella_colori"
            }
        }, {
            value: "Violet",
            style: {
                class: "elem_tabella_colori"
            }
        },




        /***************************Seconda colonna********************/




        {
            value: "Pink",
            style: {
                class: "ciao",
                top: "48px"
            }
        }, {
            value: "Blue",
            style: {
                class: "ciao",
                top: "128px",
                color: "white"
            }
        }, {
            value: "Salmon",
            style: {
                class: "ciao",
                top: "208px"
            }
        }, {
            value: "Lime",
            style: {
                class: "ciao",
                top: "288px"
            }
        }, {
            value: "Beige",
            style: {
                class: "ciao",
                top: "368px"
            }
        }, {
            value: "Grey",
            style: {
                class: "ciao",
                top: "448px"
            }
        },


        /***************************Terza colonna********************/


        {
            value: "Navy",
            style: {
                class: "elem_tabella_colori2",
                top: "38px",
                color: "white"
            }
        }, {
            value: "Silver",
            style: {
                class: "elem_tabella_colori2",
                top: "118px"
            }
        }, {
            value: "Gold",
            style: {
                class: "elem_tabella_colori2",
                top: "198px"
            }
        }, {
            value: "Aqua",
            style: {
                class: "elem_tabella_colori2",
                top: "278px"
            }
        }, {
            value: "Peru",
            style: {
                class: "elem_tabella_colori2",
                top: "358px"
            }
        }, {
            value: "White",
            style: {
                class: "elem_tabella_colori2",
                top: "438px"

            }
        },
    ];




    var persone = [{
        nome: "Francesco",
        cognome: "Ferrante",
        fiscale: "AAB",
        img: "img/ferrante.jpg",
        style: {

            class:"styleNomi",
            toppp: '100px'
        }
    }, {
        nome: "Franco",
        cognome: "Cason",
        fiscale: "AAC",
        img: "img/cason.png",

        style: {
            class:"styleNomi",
            toppp: '200px'
        }
    }, {
        nome: "Luigi",
        cognome: "Rossi",
        fiscale: "QAB",
        img: "img/rossi.jpg",

        style: {
           class:"styleNomi",
           toppp: "300px"
        }
    }, {
        nome: "Anna",
        cognome: "Bianchi",
        fiscale: "ABB",
        img: "img/bianchi.jpg",

        style: {
            class: "styleNomi",
            toppp: '400px'
        }
    }];


    var personaSelected = null;
    var coloreSelected = null;
    var reset=false;

    var colorsDOM = document.getElementById('colors');
    var personeDOM = document.getElementById('persone');


    /******************************* LOGICA CHE DISEGNA *******************************************/

    for (var i = 0; i < colors.length; i++) {
        var div = document.createElement("div");
        var value = document.createTextNode(colors[i].value);
        div.appendChild(value);
        div.style.backgroundColor = colors[i].value;
        div.style.top = colors[i].style.top;
        div.style.color = colors[i].style.color;
        div.classList.add(colors[i].style.class);

        ///////////////////////////////////////////////////////////////////////////////////ascoltatore colore selezionato
        div.addEventListener('click', (function(value) {
            return function() {
                SelectColor(value);

            }
        })(colors[i].value));


        colorsDOM.appendChild(div);

    }


    var personeDOMChildren = personeDOM.children;
    for (var i = 0; i < persone.length; i++) {

        var divPersona_i = document.createElement("div");

        var nome_cognome = document.createTextNode(persone[i].nome + ' ' + persone[i].cognome);

        var avatar = document.createElement("img");
        avatar.src = persone[i].img;
        avatar.classList.add("avatar");

        divPersona_i.appendChild(avatar);
        divPersona_i.appendChild(nome_cognome);




        divPersona_i.setAttribute("fiscale", persone[i].fiscale);


        divPersona_i.classList.add(persone[i].style.class);
        divPersona_i.fiscale = persone[i].fiscale;
        divPersona_i.immagine = persone[i].immagine;
        


        ///////////////////////////////////////////////////////////////////////////////////ascoltatore persona selezionata
        divPersona_i.addEventListener('click', (function(value) {
            return function() {
                SelectPersona(value);
                if (coloreSelected) {
                    ChangeColorPersona();
                }
            }
        })(persone[i].fiscale));




        personeDOM.appendChild(divPersona_i);


    }



    /******************************* FUNCTIONS *******************************************/


    var SelectColor = function(value) {
        coloreSelected = value;
        console.log("coloreSelected = ", coloreSelected);
    }

    var SelectPersona = function(id) {
        personaSelected = id;
        console.log("personaSelected = ", personaSelected);
    }
    var ChangeColorPersona = function() {
        console.log("changeColorPersona");
        console.log("coloreSelected = ", coloreSelected);
        console.log("personaSelected = ", personaSelected);
        console.log("personeDOM = ", personeDOM.children);

        //var personeDOMChildren = personeDOM.children;
        var fiscaleSelected;
        var colore;
        var nuovoColore;

        var personeDOMChildren = personeDOM.children;
        for (var i = 0; i < personeDOMChildren.length; i++) {
            console.log("personeDOM[" + i + "] = ", personeDOMChildren[i]);

            //capire l'elemento con fiscale giusto 
            //cambiare colore

            fiscaleSelected = personeDOMChildren[i].fiscale;
            console.log("persona preselezionata: ", personaSelected);
            console.log("Persona: ", fiscaleSelected);

            if (fiscaleSelected == personaSelected) {
                if (coloreSelected == "Navy" || coloreSelected == 'Blue')
                    personeDOMChildren[i].style.color = "white";

                else personeDOMChildren[i].style.color = "Black";


                colore = coloreSelected;
                console.log("colore = ", colore);
                personeDOMChildren[i].style.backgroundColor = colore;

            }
        }




    }

    var changeBorder = function(cognome) {

        var cognome2 = cognome;
        console.log("cognome: ", cognome2);

        for (var i = 0; i < personeDOMChildren.length; i++) {

            for (i = 0; i < persone.length; i++) {
                if (persone[i].cognome == cognome2) {

                    console.log("reset", reset);
                    console.log("funziona", cognome2);

                    personeDOMChildren[i].style.border = '3px solid blue';
                    
                    
                }
            }

        }
    }
    var resetBorder = function(cognome) {

        var cognome2 = cognome;
        console.log("cognome: ", cognome2);

        for (var i = 0; i < personeDOMChildren.length; i++) {

            for (i = 0; i < persone.length; i++) {
                
                    console.log("funziona", cognome2);

                    personeDOMChildren[i].style.border = '1px solid black';
                    
                
            }
        }
    }


</script>

</html>